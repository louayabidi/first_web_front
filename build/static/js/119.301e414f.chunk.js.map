{"version":3,"file":"static/js/119.301e414f.chunk.js","mappings":"sKAIA,SAASA,EAAWC,GAAwB,IAAvB,OAAEC,EAAM,SAAEC,GAAUF,EACvC,MAAOG,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,GAUnC,OARAC,EAAAA,EAAAA,WAAU,KACR,IAAKL,EAAOM,OAAQ,OACpB,MAAMC,EAAWC,YAAY,KAC3BL,EAAUM,IAAUA,EAAO,GAAKT,EAAOM,SACtC,KACH,MAAO,IAAMI,cAAcH,IAC1B,CAACP,EAAOM,UAGTK,EAAAA,EAAAA,KAAA,OAAKC,UAAU,cAAaC,SACzBb,EAAOc,IAAI,CAACC,EAAKC,KAChBC,EAAAA,EAAAA,MAAA,OAEEL,UAAW,iBAAgBI,IAAMd,EAAQ,SAAW,UAAWW,SAAA,EAE/DF,EAAAA,EAAAA,KAAA,OACEO,IAAKH,EAAII,KAAOJ,EAChBK,IAAK,eAAeJ,IACpBJ,UAAU,eAEZD,EAAAA,EAAAA,KAAA,UACEC,UAAU,aACVS,QAASA,IAAMpB,EAASc,EAAIO,KAAOP,EAAIQ,IAAIV,SAC5C,mBAXIE,EAAIO,KAAOP,EAAIQ,MAkB9B,CAkEA,QAhEA,WACE,MAAOC,EAAgBC,IAAqBrB,EAAAA,EAAAA,UAAS,KAGrDC,EAAAA,EAAAA,WAAU,KACRqB,EAAAA,EACGC,IAAI,gDACJC,KAAMC,IACL,MAAMC,EAAcD,EAAIE,KAAKjB,IAAKC,IAAG,IAChCA,EACHI,IAAK,iCAAiCJ,EAAIiB,cAE5CP,EAAkBK,KAEnBG,MAAOC,GACNC,QAAQC,MAAM,yCAA0CF,KAE3D,IAGJ,MAAMG,EAAeC,UAClB,UACQZ,EAAAA,EAAMa,OAAO,oCAAoChB,KACvDE,EAAkBD,EAAegB,OAAQzB,GAAQA,EAAIO,MAAQC,GAC/D,CAAE,MAAOa,GACPD,QAAQC,MAAM,kDAA8CA,EAC9D,GAGF,OACEnB,EAAAA,EAAAA,MAAA,WAASL,UAAU,cAAaC,SAAA,EAC9BI,EAAAA,EAAAA,MAAA,OAAKL,UAAU,qBAAoBC,SAAA,EACjCF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,4BACJF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,mNAOLI,EAAAA,EAAAA,MAAA,OAAKL,UAAU,sBAAqBC,SAAA,EAClCF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,iCACJI,EAAAA,EAAAA,MAAA,MAAAJ,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,uCACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,kDACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,gEACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,oDACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,mDACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,mDAIRI,EAAAA,EAAAA,MAAA,OAAKL,UAAU,sBAAqBC,SAAA,EAClCF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,4BACJF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,cAAaC,SACzBW,EAAeV,IAAKC,IACnBJ,EAAAA,EAAAA,KAACb,EAAW,CAAeE,OAAQ,CAACe,GAAMd,SAAUoC,GAAlCtB,EAAIO,aAMlC,C","sources":["components/Fabrication.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./Fabrication.css\";\r\n\r\nfunction GalleryCard({ images, onDelete }) {\r\n  const [index, setIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (!images.length) return;\r\n    const interval = setInterval(() => {\r\n      setIndex((prev) => (prev + 1) % images.length);\r\n    }, 3000);\r\n    return () => clearInterval(interval);\r\n  }, [images.length]);\r\n\r\n  return (\r\n    <div className=\"gallry-card\">\r\n      {images.map((img, i) => (\r\n        <div\r\n          key={img._id || img.id}\r\n          className={`card-wrapper ${i === index ? \"active\" : \"hidden\"}`}\r\n        >\r\n          <img\r\n            src={img.url || img}\r\n            alt={`Fabrication ${i}`}\r\n            className=\"card-imag\"\r\n          />\r\n          <button\r\n            className=\"delete-btn\"\r\n            onClick={() => onDelete(img._id || img.id)}\r\n          >\r\n            üóë\r\n          </button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Fabrication() {\r\n  const [backendGallery, setBackendGallery] = useState([]);\r\n\r\n  // --- Load backend images from MongoDB ---\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:5000/api/images/fabrication\")\r\n      .then((res) => {\r\n        const backendImgs = res.data.map((img) => ({\r\n          ...img,\r\n          url: `http://localhost:5000/uploads/${img.filename}`,\r\n        }));\r\n        setBackendGallery(backendImgs);\r\n      })\r\n      .catch((err) =>\r\n        console.error(\"Erreur lors du chargement des images :\", err)\r\n      );\r\n  }, []);\r\n\r\n  // --- Delete image from backend ---\r\n const handleDelete = async (id) => {\r\n    try {\r\n      await axios.delete(`http://localhost:5000/api/images/${id}`);\r\n      setBackendGallery(backendGallery.filter((img) => img._id !== id));\r\n    } catch (error) {\r\n      console.error(\"Erreur lors de la suppression de l‚Äôimage :\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"fabrication\">\r\n      <div className=\"fabrication-header\">\r\n        <h1>Fabrication sur mesure</h1>\r\n        <p>\r\n          Nous r√©alisons des cr√©ations uniques et personnalis√©es, con√ßues pour\r\n          sublimer vos espaces. Chaque projet est fabriqu√© avec pr√©cision et\r\n          souci du d√©tail pour refl√©ter votre style.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"fabrication-details\">\r\n        <h2>Nos services de fabrication</h2>\r\n        <ul>\r\n          <li>Conception et moulures sur mesure</li>\r\n          <li>Cr√©ation de plafonds et d√©cors uniques</li>\r\n          <li>√âl√©ments d√©coratifs adapt√©s √† chaque espace</li>\r\n          <li>Consultation et accompagnement personnalis√©</li>\r\n          <li>Choix des textures, mat√©riaux et finitions</li>\r\n          <li>Fabrication et installation compl√®te</li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div className=\"fabrication-gallery\">\r\n        <h2>Galerie de Fabrication</h2>\r\n        <div className=\"gallry-grid\">\r\n          {backendGallery.map((img) => (\r\n            <GalleryCard key={img._id} images={[img]} onDelete={handleDelete} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Fabrication;\r\n"],"names":["GalleryCard","_ref","images","onDelete","index","setIndex","useState","useEffect","length","interval","setInterval","prev","clearInterval","_jsx","className","children","map","img","i","_jsxs","src","url","alt","onClick","_id","id","backendGallery","setBackendGallery","axios","get","then","res","backendImgs","data","filename","catch","err","console","error","handleDelete","async","delete","filter"],"sourceRoot":""}