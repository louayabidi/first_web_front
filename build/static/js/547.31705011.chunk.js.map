{"version":3,"file":"static/js/547.31705011.chunk.js","mappings":"sKAMA,SAASA,EAAWC,GAAwB,IAAvB,OAAEC,EAAM,SAAEC,GAAUF,EACvC,MAAOG,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,GASnC,OAPAC,EAAAA,EAAAA,WAAU,KACR,MAAMC,EAAWC,YAAY,KAC3BJ,EAAUK,IAAUA,EAAO,GAAKR,EAAOS,SACtC,KACH,MAAO,IAAMC,cAAcJ,IAC1B,CAACN,EAAOS,UAGTE,EAAAA,EAAAA,KAAA,OAAKC,UAAU,cAAaC,SACzBb,EAAOc,IAAI,CAACC,EAAKC,KAChBC,EAAAA,EAAAA,MAAA,OAEEL,UAAW,iBAAgBI,IAAMd,EAAQ,SAAW,UAAWW,SAAA,EAE/DF,EAAAA,EAAAA,KAAA,OACEO,IAAKH,EAAII,KAAOJ,EAChBK,IAAK,gBAAgBJ,IACrBJ,UAAU,eAEZD,EAAAA,EAAAA,KAAA,UACEC,UAAU,aACVS,QAASA,IAAMpB,EAASc,EAAIO,KAAOP,EAAIQ,IAAIV,SAC5C,mBAXIE,EAAIO,KAAOP,EAAIQ,MAkB9B,CA2EA,QAzEA,WAEE,MAAOC,EAASC,IAAcrB,EAAAA,EAAAA,UAAS,KAChCsB,EAAgBC,IAAqBvB,EAAAA,EAAAA,UAAS,KAErDC,EAAAA,EAAAA,WAAU,KACRuB,EAAAA,EACGC,IAAI,iDACJC,KAAMC,IACL,MAAMC,EAAcD,EAAIE,KAAKnB,IAAKC,IAAG,IAChCA,EACHI,IAAK,iCAAiCJ,EAAImB,cAE5CP,EAAkBK,KAEnBG,MAAM,SACR,IAEH,MAAMC,EAAeC,UAEnB,GADmBX,EAAeY,KAAMvB,GAAQA,EAAIO,MAAQC,GAE1D,UACQK,EAAAA,EAAMW,OAAO,oCAAoChB,KACvDI,EAAkBD,EAAec,OAAQzB,GAAQA,EAAIO,MAAQC,GAC/D,CAAE,MAAO,MAETE,EACED,EACGV,IAAK2B,GACJA,EAAMD,OAAQzB,IAASA,EAAIQ,IAAMR,EAAIO,OAASC,IAE/CiB,OAAQC,GAAUA,EAAMhC,OAAS,KAK1C,OACEQ,EAAAA,EAAAA,MAAA,WAASL,UAAU,eAAcC,SAAA,EAC/BI,EAAAA,EAAAA,MAAA,OAAKL,UAAU,uBAAsBC,SAAA,EACnCF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,mCACJF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,gLAMLI,EAAAA,EAAAA,MAAA,OAAKL,UAAU,uBAAsBC,SAAA,EACnCF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,kCACJI,EAAAA,EAAAA,MAAA,MAAAJ,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,yDACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,kDACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,+DACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,oDACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,sDACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,4DAIRI,EAAAA,EAAAA,MAAA,OAAKL,UAAU,uBAAsBC,SAAA,EACnCF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,6BACJI,EAAAA,EAAAA,MAAA,OAAKL,UAAU,cAAaC,SAAA,CACzBW,EAAQV,IAAI,CAAC2B,EAAOzB,KACnBL,EAAAA,EAAAA,KAACb,EAAW,CAAsBE,OAAQyC,EAAOxC,SAAUmC,GAAzC,WAAWpB,MAE9BU,EAAeZ,IAAKC,IACnBJ,EAAAA,EAAAA,KAACb,EAAW,CAAeE,OAAQ,CAACe,GAAMd,SAAUmC,GAAlCrB,EAAIO,cAMlC,C","sources":["components/Restauration.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./Restauration.css\";\r\n\r\n\r\n\r\nfunction GalleryCard({ images, onDelete }) {\r\n  const [index, setIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setIndex((prev) => (prev + 1) % images.length);\r\n    }, 3000);\r\n    return () => clearInterval(interval);\r\n  }, [images.length]);\r\n\r\n  return (\r\n    <div className=\"gallry-card\">\r\n      {images.map((img, i) => (\r\n        <div\r\n          key={img._id || img.id}\r\n          className={`card-wrapper ${i === index ? \"active\" : \"hidden\"}`}\r\n        >\r\n          <img\r\n            src={img.url || img}\r\n            alt={`Restauration ${i}`}\r\n            className=\"card-imag\"\r\n          />\r\n          <button\r\n            className=\"delete-btn\"\r\n            onClick={() => onDelete(img._id || img.id)}\r\n          >\r\n            üóë\r\n          </button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Restauration() {\r\n  // üßπ Default images deleted\r\n  const [gallery, setGallery] = useState([]);\r\n  const [backendGallery, setBackendGallery] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:5000/api/images/restauration\")\r\n      .then((res) => {\r\n        const backendImgs = res.data.map((img) => ({\r\n          ...img,\r\n          url: `http://localhost:5000/uploads/${img.filename}`,\r\n        }));\r\n        setBackendGallery(backendImgs);\r\n      })\r\n      .catch(() => {});\r\n  }, []);\r\n\r\n  const handleDelete = async (id) => {\r\n    const backendImg = backendGallery.find((img) => img._id === id);\r\n    if (backendImg) {\r\n      try {\r\n        await axios.delete(`http://localhost:5000/api/images/${id}`);\r\n        setBackendGallery(backendGallery.filter((img) => img._id !== id));\r\n      } catch {}\r\n    } else {\r\n      setGallery(\r\n        gallery\r\n          .map((group) =>\r\n            group.filter((img) => (img.id || img._id) !== id)\r\n          )\r\n          .filter((group) => group.length > 0)\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"restauration\">\r\n      <div className=\"restauration-header \">\r\n        <h1>Restauration et R√©novation</h1>\r\n        <p>\r\n          Nous redonnons vie √† vos espaces √† travers des projets de restauration \r\n          et de r√©novation sur mesure, combinant savoir-faire artisanal et technologies modernes.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"restauration-details\">\r\n        <h2>Nos services de restauration</h2>\r\n        <ul>\r\n          <li>Restauration de plafonds d√©coratifs en pl√¢tre</li>\r\n          <li>Reproduction fid√®le de moulures anciennes</li>\r\n          <li>Nettoyage et remise √† neuf des structures ornementales</li>\r\n          <li>R√©novation compl√®te de murs et corniches</li>\r\n          <li>Finitions artistiques et patines traditionnelles</li>\r\n          <li>Gestion de projets de restauration haut de gamme</li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div className=\"restauration-gallery\">\r\n        <h2>Galerie de Restauration</h2>\r\n        <div className=\"gallry-grid\">\r\n          {gallery.map((group, i) => (\r\n            <GalleryCard key={`default-${i}`} images={group} onDelete={handleDelete} />\r\n          ))}\r\n          {backendGallery.map((img) => (\r\n            <GalleryCard key={img._id} images={[img]} onDelete={handleDelete} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Restauration;\r\n"],"names":["GalleryCard","_ref","images","onDelete","index","setIndex","useState","useEffect","interval","setInterval","prev","length","clearInterval","_jsx","className","children","map","img","i","_jsxs","src","url","alt","onClick","_id","id","gallery","setGallery","backendGallery","setBackendGallery","axios","get","then","res","backendImgs","data","filename","catch","handleDelete","async","find","delete","filter","group"],"sourceRoot":""}