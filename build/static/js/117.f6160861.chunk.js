"use strict";(self.webpackChunkgypsum_app=self.webpackChunkgypsum_app||[]).push([[117],{8320:(e,a,s)=>{s.r(a),s.d(a,{default:()=>l});var r=s(5043),i=s(6213);const o=s.p+"static/media/heropic.43f79706e6706b28feab.png";var n=s(4505),t=s(579);const l=function(){const[e,a]=(0,r.useState)({name:"",email:"",phone:"",postalCode:"",objectif:"",message:""}),[s,l]=(0,r.useState)({}),[d,c]=(0,r.useState)(""),[m,p]=(0,r.useState)(!1),h=(e,a)=>{const s={};return"name"!==e||a.trim()||(s.name="Name is required"),"email"!==e||/^\S+@\S+\.\S+$/.test(a)||(s.email="Invalid email format"),"phone"!==e||/^\+?\d{10,}$/.test(a.replace(/\s/g,""))||(s.phone="Invalid phone number"),"postalCode"!==e||a.trim()||(s.postalCode="Postal code is required"),"objectif"!==e||a.trim()||(s.objectif="Objective is required"),"message"!==e||a.trim()||(s.message="Message is required"),s},u=r=>{const{name:i,value:o}=r.target;a({...e,[i]:o}),l({...s,...h(i,o)})};return(0,t.jsx)("section",{className:"contact-page","aria-labelledby":"contact-heading",children:(0,t.jsxs)("div",{className:"contact-card",children:[(0,t.jsx)("div",{className:"contact-image",children:(0,t.jsx)("img",{src:o,alt:"Gypsum decor inspiration",loading:"lazy",className:"contact-image__img"})}),(0,t.jsxs)("div",{className:"contact-form-area",children:[(0,t.jsx)("h1",{id:"contact-heading",children:"Contactez-moi"}),(0,t.jsx)("p",{children:"Donnons vie \xe0 votre id\xe9e de design en gypse."}),(0,t.jsxs)("form",{onSubmit:async s=>{s.preventDefault();const r=Object.keys(e).reduce((a,s)=>({...a,...h(s,e[s])}),{});if(Object.keys(r).length>0)return l(r),void c("\u26a0\ufe0f Please correct the errors in the form.");p(!0),c("Sending...");try{(await i.A.post(`${n.A}/api/contact`,e)).data.success?(c("\u2705 Message sent successfully!"),a({name:"",email:"",phone:"",postalCode:"",objectif:"",message:""}),l({})):c("\u274c Failed to send message.")}catch(o){c("\u26a0\ufe0f Error sending message.")}finally{p(!1)}},noValidate:!0,children:[(0,t.jsxs)("label",{htmlFor:"name",children:["Nom",(0,t.jsx)("input",{id:"name",type:"text",name:"name",placeholder:"Le nom complet",value:e.name,onChange:u,required:!0,"aria-invalid":!!s.name,"aria-describedby":s.name?"name-error":void 0}),s.name&&(0,t.jsx)("span",{id:"name-error",className:"error",children:s.name})]}),(0,t.jsxs)("label",{htmlFor:"email",children:["E-mail",(0,t.jsx)("input",{id:"email",type:"email",name:"email",placeholder:"example@gmail.com",value:e.email,onChange:u,required:!0,"aria-invalid":!!s.email,"aria-describedby":s.email?"email-error":void 0}),s.email&&(0,t.jsx)("span",{id:"email-error",className:"error",children:s.email})]}),(0,t.jsxs)("label",{htmlFor:"phone",children:["Num\xe9ro de t\xe9l\xe9phone",(0,t.jsx)("input",{id:"phone",type:"tel",name:"phone",placeholder:"+216 12 345 678",value:e.phone,onChange:u,required:!0,"aria-invalid":!!s.phone,"aria-describedby":s.phone?"phone-error":void 0}),s.phone&&(0,t.jsx)("span",{id:"phone-error",className:"error",children:s.phone})]}),(0,t.jsxs)("label",{htmlFor:"postalCode",children:["Code postal",(0,t.jsx)("input",{id:"postalCode",type:"text",name:"postalCode",placeholder:"e.g. 75000",value:e.postalCode,onChange:u,required:!0,"aria-invalid":!!s.postalCode,"aria-describedby":s.postalCode?"postalCode-error":void 0}),s.postalCode&&(0,t.jsx)("span",{id:"postalCode-error",className:"error",children:s.postalCode})]}),(0,t.jsxs)("label",{htmlFor:"objectif",children:["Objectif",(0,t.jsx)("input",{id:"objectif",type:"text",name:"objectif",placeholder:"Votre objectif",value:e.objectif,onChange:u,required:!0,"aria-invalid":!!s.objectif,"aria-describedby":s.objectif?"objectif-error":void 0}),s.objectif&&(0,t.jsx)("span",{id:"objectif-error",className:"error",children:s.objectif})]}),(0,t.jsxs)("label",{htmlFor:"message",children:["Message",(0,t.jsx)("textarea",{id:"message",name:"message",placeholder:"\xc9crivez votre message ici...",rows:"5",value:e.message,onChange:u,required:!0,"aria-invalid":!!s.message,"aria-describedby":s.message?"message-error":void 0}),s.message&&(0,t.jsx)("span",{id:"message-error",className:"error",children:s.message})]}),(0,t.jsx)("button",{type:"submit",disabled:m,"aria-busy":m,children:m?(0,t.jsx)("span",{className:"loading-spinner",children:"\u23f3 En cours d\u2019envoi..."}):"Envoyer"}),d&&(0,t.jsx)("p",{className:"status "+(d.includes("\u2705")?"success":"error"),children:d})]})]})]})})}}}]);
//# sourceMappingURL=117.f6160861.chunk.js.map